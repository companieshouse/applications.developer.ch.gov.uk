{% extends "_layouts/default.njk" %}

{% block main_content %}

{% from "govuk/components/details/macro.njk" import govukDetails %}

  <h1 class="govuk-heading-xl">
    Application overview
  </h1>
  <a href="/manage-applications/add" role="button" draggable="false" class="govuk-button" data-module="govuk-button">
    Add an application
  </a>
  <h2 class="govuk-heading-l">Test applications</h2>
  <p class="govuk-body">In development</p>
  <table class="govuk-table">
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header">Application name</th>
        <th scope="col" class="govuk-table__header">Description</th>
      </tr>
    </thead>
    <tbody class="govuk-table__body">
      {% for app in this_data.test.items %}
        <tr class="govuk-table__row">
          <th scope="row" class="govuk-table__header">
            <a href="/manage-applications/{{ app.id }}/view/test">{{ app.name }}</a>
          </th>
          <td scope="row" class="govuk-table__cell">{{ app.description }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  {% if FUTURE_DISPLAY_FLAG === 'true' %}
  <h2 class="govuk-heading-l">Upcoming test applications</h2>
  <h3 class="govuk-heading-s govuk-!-font-weight-regular">In development for upcoming Companies House changes</h3>
  <table class="govuk-table">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th scope="col" class="govuk-table__header">Application name</th>
          <th scope="col" class="govuk-table__header">Description</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body">
        {% for app in this_data.future.items %}
          <tr class="govuk-table__row">
            <th scope="row" class="govuk-table__header">
              <a href="/manage-applications/{{ app.id }}/view/future">{{ app.name }}</a>
            </th>
            <td scope="row" class="govuk-table__cell">{{ app.description }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    {% endif %}

  <h2 class="govuk-heading-l">Live applications</h2>
  <p class="govuk-body">Released and in use publicly</p>
  <table class="govuk-table">
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header">Application name</th>
        <th scope="col" class="govuk-table__header">Description</th>
      </tr>
    </thead>
    <tbody class="govuk-table__body">
      {% for app in this_data.live.items %}
        <tr class="govuk-table__row">
          <th scope="row" class="govuk-table__header">
            <a href="/manage-applications/{{ app.id }}/view/live">{{ app.name }}</a>
          </th>
          <td scope="row" class="govuk-table__cell">{{ app.description }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

{% endblock %}
